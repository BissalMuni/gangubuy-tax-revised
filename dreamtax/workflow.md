# DreamTax PDF 처리 워크플로우

## 개요
dreamtax.pdf (2025 강남 드림 택스 - AI가 전하는 강남 세무행정 이야기) 문서를 목차 기반으로 분류하는 자동화 워크플로우

## 폴더 구조

```
dreamtax/
├── dreamtax.pdf                    # 원본 PDF (198페이지)
├── workflow.md                     # 이 문서
├── organize_by_toc.py              # 목차 기반 분류 스크립트
├── toc-mapping.json                # 목차 매핑 JSON
├── pages/                          # 1단계: 페이지별 분할 (p001~p198)
│   ├── p001.pdf (축사)
│   ├── p002.pdf (표지)
│   ├── p003.pdf (인사말)
│   ├── p004.pdf (비전 및 연혁)
│   ├── p005.pdf (연혁 타임라인)
│   ├── p006.pdf (목차1)
│   ├── p007.pdf (목차2)
│   ├── p008.pdf (빈 페이지)
│   ├── p009.pdf (빈 페이지 - 문서 1쪽)
│   ├── p010.pdf (Part 1 타이틀 - 문서 2쪽)
│   └── ... (p198.pdf까지)
├── index/                          # 2단계: 목차 페이지 추출
│   ├── p006.pdf (목차 1페이지)
│   └── p007.pdf (목차 2페이지)
└── toc/                            # 4단계: 목차 기반 분류 결과
    ├── Part1_납세자에게_불합리한_지방세법_제도개선/
    │   └── 01_인텔리전트빌딩_재산세_가산율_폐지_및_감면신설/ (34 files)
    ├── Part2_적극적인_세원관리로_구_재정_확충/
    │   ├── 01_257억원의_숨은_조각을_맞추다/ (6 files)
    │   ├── 02_소통이_만든_기적_10년만의_1위/ (6 files)
    │   └── 03_대의_변화를_읽다_공정의_기준을_넓히다/ (8 files)
    ├── Part3_납세자가_존중받는_건전한_납세문화/
    │   ├── 01_당신의_성실함이_강남의_자부심입니다/ (6 files)
    │   └── 02_광장으로_나온_전문가들/ (6 files)
    ├── Part4_AI를_활용한_스마트_혁신_세무행정/
    │   ├── 01_김팀장의_선택_경험을_데이터로_치환하다/ (6 files)
    │   └── 02_코딩으로_찾아낸_권리/ (6 files)
    ├── Part5_현장속으로_찾아가는_세무상담회/
    │   ├── 01_광장에서_만난_세무사_시장에서_만난_은행원/ (8 files)
    │   └── 02_새집의_설렘_세금_걱정은_덜어드립니다/ (6 files)
    ├── Part6_구민과_기업을_위한_맞춤형_세무설명회/
    │   ├── 01_세금_두려움이_아닌_전략이_되다/ (6 files)
    │   └── 02_파트너_그_이상의_세무행정/ (6 files)
    ├── Part7_사전안내를_통한_적극행정_서비스/
    │   ├── 01_3년뒤의_폭탄을_막아라_당신의_비서_알림톡/ (6 files)
    │   ├── 02_데이터의_퍼즐을_맞추다_납세자의_실수를_돕다/ (6 files)
    │   └── 03_아기_분유값_구청이_찾아드렸습니다/ (6 files)
    ├── Part8_강남세정의_대외수상_및_글로벌_위상/
    │   ├── 01_이론과_현장을_모두_석권하다/ (6 files)
    │   ├── 02_세계가_주목한_K세정의_표준_강남/ (6 files)
    │   └── 03_엑셀_지옥에서_디지털_트윈으로/ (8 files)
    ├── Part9_세무부서_직원화합_소통_강화/
    │   └── 01_잠시_멈춤_그리고_더_큰_도약/ (6 files)
    └── 부록_Special_Episode_우리들의_품격/
        ├── 01_세무과_직원_칭찬합시다/ (6 files)
        └── 02_독서감상문_수상작/ (16 files)
```

## 페이지 매핑 정보

- **총 페이지**: 198
- **page_offset**: 8 (프론트매터 8페이지: 축사, 표지, 인사말, 비전, 연혁, 목차x2, 빈페이지)
- **문서 페이지 + 8 = PDF 파일 번호** (예: 문서 3쪽 → p011.pdf)
- **목차 페이지**: p006, p007

## 실행 단계

### 1단계: PDF 페이지 분할
```bash
python split_pdf.py "dreamtax/dreamtax.pdf"
```
- dreamtax.pdf를 198개 개별 PDF로 분할
- 출력: `dreamtax/pages/p001.pdf ~ p198.pdf`

### 2단계: 목차 페이지 추출
- p006.pdf, p007.pdf를 `dreamtax/index/` 폴더로 복사
- 목차 페이지를 Claude Code로 읽어 구조 파악

### 3단계: 목차 매핑 JSON 생성
- `dreamtax/toc-mapping.json` 파일 작성
- 목차 내용을 JSON 구조로 변환 (Part > Chapter 매핑)

### 4단계: 목차 기반 분류 실행
```bash
python dreamtax/organize_by_toc.py
```
- toc-mapping.json 기반으로 pages/의 PDF를 toc/ 하위 폴더로 복사
- 결과: 170개 파일이 10개 Part, 22개 Chapter 폴더로 분류

## 재실행

```bash
# 전체 재실행 시 toc 폴더 삭제 후
rmdir /s /q dreamtax\toc
python dreamtax/organize_by_toc.py
```
